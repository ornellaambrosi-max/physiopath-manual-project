{
  "name": "SessionRecord",
  "type": "object",
  "properties": {
    "patient_id": {
      "type": "string",
      "description": "Reference to Patient entity"
    },
    "program_id": {
      "type": "string",
      "description": "Reference to ExerciseProgram entity"
    },
    "session_type": {
      "type": "string",
      "enum": [
        "self_guided",
        "video_call",
        "in_person",
        "asynchronous_review"
      ],
      "description": "Type of supervision session"
    },
    "scheduled_date": {
      "type": "string",
      "format": "date-time",
      "description": "Scheduled session date and time"
    },
    "actual_date": {
      "type": "string",
      "format": "date-time",
      "description": "Actual session date and time"
    },
    "clinician_id": {
      "type": "string",
      "description": "Reference to clinician User entity"
    },
    "session_status": {
      "type": "string",
      "enum": [
        "scheduled",
        "in_progress",
        "completed",
        "cancelled",
        "no_show"
      ],
      "default": "scheduled",
      "description": "Current session status"
    },
    "video_call_url": {
      "type": "string",
      "description": "URL for video call session"
    },
    "session_notes": {
      "type": "string",
      "description": "Clinician's session notes"
    },
    "patient_feedback": {
      "type": "string",
      "description": "Patient's session feedback"
    },
    "program_adjustments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "exercise_id": {
            "type": "string"
          },
          "adjustment_type": {
            "type": "string",
            "enum": [
              "increase_difficulty",
              "decrease_difficulty",
              "modify_reps",
              "modify_sets",
              "add_exercise",
              "remove_exercise"
            ]
          },
          "details": {
            "type": "string"
          }
        }
      },
      "description": "Adjustments made to the exercise program"
    },
    "next_session_date": {
      "type": "string",
      "format": "date-time",
      "description": "Next scheduled session"
    },
    "session_rating": {
      "type": "number",
      "minimum": 1,
      "maximum": 5,
      "description": "Patient's rating of the session"
    }
  },
  "required": [
    "patient_id",
    "program_id",
    "session_type",
    "scheduled_date"
  ]
}